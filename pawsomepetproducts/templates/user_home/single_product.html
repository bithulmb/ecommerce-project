{% extends 'base.html' %}


{% block csslinking %}
<style>
    .gallery-wrap {
        display: flex;
        flex-direction: column;
    }
    .img-big-wrap img {
        max-width: 100%;
        height: auto;
    }
    .thumbs-wrap {
        margin-top: 10px;
    }
    .thumbs-list {
        display: flex;
        gap: 10px;
    }
    .thumbs-list img {
        width: 60px;
        height: 60px;
        cursor: pointer;
        object-fit: cover;
        border: 2px solid transparent;
    }
    .thumbs-list img:hover {
        border-color: #007bff;
    }
</style>

 
<script>
    function changeImage(element) {
        const mainImage = document.getElementById('main-image');
        mainImage.src = element.src;
        mainImage.setAttribute('data-zoom', element.getAttribute('data-zoom'));
    }
</script>

{% endblock %}

{% block content %}

<section class="section-content padding-y bg">
    <div class="container">
        <div class="card">
            <div class="row no-gutters">
                <aside class="col-md-6">
                    <article class="gallery-wrap"> 
                        <div class="img-big-wrap">
                            <a href="#"><img id="main-image" src="{{ product_variant.thumbnail.url }}" data-zoom="{{ product_variant.thumbnail.url }}"></a>
                        </div> <!-- img-big-wrap.// -->

                        <div class="thumbs-wrap m-auto">
                            <ul class="thumbs-list">
                              
                                {% for image in product_variant.product_images_set.all %}
                                    <li class="list-unstyled"><img src="{{ image.images.url }}" data-zoom="{{ image.images.url }}" onclick="changeImage(this)"></li>
                                {% endfor %}
                            </ul>
                        </div> <!-- thumbs-wrap.// -->
                    </article> <!-- gallery-wrap .end// -->
                </aside>
                <main class="col-md-6 border-left">
                    <article class="content-body">
                        {% if product_variant.size is not None %}
                            <h2 class="title">{{ product_variant.product_name.name }}, {{ product_variant.size }}</h2>
                        {% else %}
                            <h2 class="title">{{ product_variant.product_name.name }}</h2>
                        {% endif %}
                        <div class="mb-3"> 
                            <p class=""> Category : {{ product_variant.product_name.category.name }}</p> 
                        </div> 
                        <div class="mb-3"> 
                            <p class=""> Pet Type: {{ product_variant.product_name.pet_type.name }}</p> 
                        </div> 

                        {% if product_variant.size is not None %}
                            <hr>
                            <div class="row">
                                <div class="item-option-select">
                                    <h6>Select Size</h6>
                                    <div class="btn-group btn-group-sm btn-group-toggle">
                                        {% for variant in all_variants %}
                                            <a href="{% url 'single_product_page' variant.id %}"> 
                                                <label class="btn btn-light">{{ variant.size }}</label>
                                            </a>
                                        {% endfor %}                  
                                    </div> 
                                </div>
                            </div> <!-- row.// -->
                            <hr>
                        {% endif %}
                        
                        <div class="mb-3"> 
                            <var class="price h4">â‚¹ {{ product_variant.price }}</var> 
                        </div> 
                        <a href="./product-detail.html" class="btn btn-primary"> 
                            <span class="text">Add to cart</span><i class="fas fa-shopping-cart"></i>  
                        </a>
                        <a href="./product-detail.html" class="btn btn-secondary"> 
                            <span class="text">Add to Wishlist</span><i class="fas fa-heart"></i>  
                        </a>
                    </article> <!-- product-info-aside .// -->
                </main> <!-- col.// -->
            </div> <!-- row.// -->
        </div> <!-- card.// -->

        <br>

        <div class="row">
            <div class="col-md-9">
                <header class="section-heading">
                    <h3>Description </h3>  
                </header>

                <article class="box">
                    <div class="mt-1">
                        <p>
                           {{ product_variant.product_name.description }}
                        </p>    
                    </div>
                </article>
            </div> <!-- col.// -->
        </div> <!-- row.// -->

        <div class="row">
            <div class="col-md-9">
                <header class="section-heading">
                    <h3>Customer Reviews </h3>  
                </header>

                <article class="box mb-3">
                    <div class="icontext w-100">
                        <div class="text">
                            <span class="date text-muted float-md-right">24.04.2020 </span>  
                            <h6 class="mb-1">Mike John </h6>
                        </div>
                    </div> <!-- icontext.// -->
                    <div class="mt-3">
                        <p>
                            Dummy comment Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip
                        </p>    
                    </div>
                </article>
            </div> <!-- col.// -->
        </div> <!-- row.// -->
    </div> <!-- container .//  -->
</section>

{% endblock %}